{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _sockjsClient = _interopRequireDefault(require(\"sockjs-client\"));\n\nvar _stompjs = _interopRequireDefault(require(\"stompjs\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _difference = _interopRequireDefault(require(\"lodash/difference\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * React component for SockJS-client with STOMP messaging protocol.\n *\n * @version 5.0.0\n * @author [lahsivjar] (https://github.com/lahsivjar)\n * @see {@link https://stomp.github.io/|STOMP}\n * @see {@link https://github.com/sockjs/sockjs-client|StompJS}\n */\n\n\nvar SockJsClient = /*#__PURE__*/function (_React$Component) {\n  _inherits(SockJsClient, _React$Component);\n\n  function SockJsClient(props) {\n    var _this;\n\n    _classCallCheck(this, SockJsClient);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SockJsClient).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"_initStompClient\", function () {\n      // Websocket held by stompjs can be opened only once\n      _this.client = _stompjs[\"default\"].over(new _sockjsClient[\"default\"](_this.props.url, null, _this.props.options));\n      _this.client.heartbeat.outgoing = _this.props.heartbeat;\n      _this.client.heartbeat.incoming = _this.props.heartbeat;\n\n      if (Object.keys(_this.props).includes('heartbeatIncoming')) {\n        _this.client.heartbeat.incoming = _this.props.heartbeatIncoming;\n      }\n\n      if (Object.keys(_this.props).includes('heartbeatOutgoing')) {\n        _this.client.heartbeat.outgoing = _this.props.heartbeatOutgoing;\n      }\n\n      if (!_this.props.debug) {\n        _this.client.debug = function () {};\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_cleanUp\", function () {\n      _this.setState({\n        connected: false\n      });\n\n      _this.retryCount = 0;\n\n      _this.subscriptions.clear();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_log\", function (msg) {\n      if (_this.props.debug) {\n        console.log(msg);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_subscribe\", function (topic) {\n      if (!_this.subscriptions.has(topic)) {\n        var subscribeHeaders = Object.assign({}, _this.props.subscribeHeaders);\n\n        var sub = _this.client.subscribe(topic, function (msg) {\n          _this.props.onMessage(_this._processMessage(msg.body), msg.headers.destination);\n        }, subscribeHeaders);\n\n        _this.subscriptions.set(topic, sub);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_processMessage\", function (msgBody) {\n      try {\n        return JSON.parse(msgBody);\n      } catch (e) {\n        return msgBody;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_unsubscribe\", function (topic) {\n      var sub = _this.subscriptions.get(topic);\n\n      sub.unsubscribe();\n\n      _this.subscriptions[\"delete\"](topic);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_connect\", function () {\n      _this._initStompClient();\n\n      _this.client.connect(_this.props.headers, function () {\n        _this.setState({\n          connected: true\n        });\n\n        _this.props.topics.forEach(function (topic) {\n          _this._subscribe(topic);\n        });\n\n        _this.props.onConnect();\n      }, function (error) {\n        if (error) {\n          if (Object.keys(_this.props).includes('onConnectFailure')) {\n            _this.props.onConnectFailure(error);\n          } else {\n            _this._log(error.stack);\n          }\n        }\n\n        if (_this.state.connected) {\n          _this._cleanUp(); // onDisconnect should be called only once per connect\n\n\n          _this.props.onDisconnect();\n        }\n\n        if (_this.props.autoReconnect && !_this.state.explicitDisconnect) {\n          _this._timeoutId = setTimeout(_this._connect, _this.props.getRetryInterval(_this.retryCount++));\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"connect\", function () {\n      _this.setState({\n        explicitDisconnect: false\n      });\n\n      if (!_this.state.connected) {\n        _this._connect();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"disconnect\", function () {\n      // On calling disconnect explicitly no effort will be made to reconnect\n      // Clear timeoutId in case the component is trying to reconnect\n      if (_this._timeoutId) {\n        clearTimeout(_this._timeoutId);\n        _this._timeoutId = null;\n      }\n\n      _this.setState({\n        explicitDisconnect: true\n      });\n\n      if (_this.state.connected) {\n        _this.subscriptions.forEach(function (subid, topic) {\n          _this._unsubscribe(topic);\n        });\n\n        _this.client.disconnect(function () {\n          _this._cleanUp();\n\n          _this.props.onDisconnect();\n\n          _this._log('Stomp client is successfully disconnected!');\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"sendMessage\", function (topic, msg) {\n      var optHeaders = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (_this.state.connected) {\n        _this.client.send(topic, optHeaders, msg);\n      } else {\n        throw new Error('Send error: SockJsClient is disconnected');\n      }\n    });\n\n    _this.state = {\n      connected: false,\n      // False if disconnect method is called without a subsequent connect\n      explicitDisconnect: false\n    };\n    _this.subscriptions = new Map();\n    _this.retryCount = 0;\n    return _this;\n  }\n\n  _createClass(SockJsClient, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._connect();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.disconnect();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return false;\n    }\n    /* eslint camelcase: [\"error\", {allow: [\"UNSAFE_componentWillReceiveProps\"]}] */\n\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      if (this.state.connected) {\n        // Subscribe to new topics\n        (0, _difference[\"default\"])(nextProps.topics, this.props.topics).forEach(function (newTopic) {\n          _this2._log('Subscribing to topic: ' + newTopic);\n\n          _this2._subscribe(newTopic);\n        }); // Unsubscribe from old topics\n\n        (0, _difference[\"default\"])(this.props.topics, nextProps.topics).forEach(function (oldTopic) {\n          _this2._log('Unsubscribing from topic: ' + oldTopic);\n\n          _this2._unsubscribe(oldTopic);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return SockJsClient;\n}(_react[\"default\"].Component);\n\n_defineProperty(SockJsClient, \"defaultProps\", {\n  onConnect: function onConnect() {},\n  onDisconnect: function onDisconnect() {},\n  getRetryInterval: function getRetryInterval(count) {\n    return 1000 * count;\n  },\n  options: {},\n  headers: {},\n  subscribeHeaders: {},\n  autoReconnect: true,\n  debug: false,\n  heartbeat: 10000\n});\n\n_defineProperty(SockJsClient, \"propTypes\", {\n  /**\n   * HTTP URL of the endpoint to connect.\n   */\n  url: _propTypes[\"default\"].string.isRequired,\n\n  /**\n   * Additional options to pass to the underlying SockJS constructor.\n   *\n   * @see [SockJS-options](https://github.com/sockjs/sockjs-client#sockjs-client-api)\n   */\n  options: _propTypes[\"default\"].object,\n\n  /**\n   * Array of topics to subscribe to.\n   */\n  topics: _propTypes[\"default\"].array.isRequired,\n\n  /**\n   * Callback after connection is established.\n   */\n  onConnect: _propTypes[\"default\"].func,\n\n  /**\n   * Callback after connection is lost.\n   */\n  onDisconnect: _propTypes[\"default\"].func,\n\n  /**\n   * Gets called to find the time interval for next retry. Defaults to a function returing retryCount seconds.\n   *\n   * @param {number} retryCount number of retries for the current disconnect\n   */\n  getRetryInterval: _propTypes[\"default\"].func,\n\n  /**\n   * Callback when a message is recieved.\n   *\n   * @param {(string|Object)} msg message received from server, if JSON format then object\n   * @param {string} topic the topic on which the message was received\n   */\n  onMessage: _propTypes[\"default\"].func.isRequired,\n\n  /**\n   * Headers that will be passed to the server or broker with STOMP's connection frame.\n   */\n  headers: _propTypes[\"default\"].object,\n\n  /**\n   * Headers that will be passed when subscribing to a destination.\n   */\n  subscribeHeaders: _propTypes[\"default\"].object,\n\n  /**\n   * Should the client try to automatically connect in an event of disconnection.\n   */\n  autoReconnect: _propTypes[\"default\"].bool,\n\n  /**\n   * Enable debugging mode.\n   */\n  debug: _propTypes[\"default\"].bool,\n\n  /**\n   * Number of milliseconds to send and expect heartbeat messages.\n   */\n  heartbeat: _propTypes[\"default\"].number,\n\n  /**\n   * Number of milliseconds to expect heartbeat messages\n   */\n  heartbeatIncoming: _propTypes[\"default\"].number,\n\n  /**\n   * Number of milliseconds to send heartbeat messages\n   */\n  heartbeatOutgoing: _propTypes[\"default\"].number,\n\n  /**\n   * Callback if connection could not be established\n   */\n  onConnectFailure: _propTypes[\"default\"].func\n});\n\nvar _default = SockJsClient;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["C:/Users/usher/Desktop/chat/ChatApplication/react-client/node_modules/react-stomp/dist/client.js"],"names":["Object","defineProperty","exports","value","_react","_interopRequireDefault","require","_sockjsClient","_stompjs","_propTypes","_difference","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","_defineProperty","SockJsClient","_React$Component","_this","client","over","url","options","heartbeat","outgoing","incoming","keys","includes","heartbeatIncoming","heartbeatOutgoing","debug","setState","connected","retryCount","subscriptions","clear","msg","console","log","topic","has","subscribeHeaders","assign","sub","subscribe","onMessage","_processMessage","body","headers","destination","set","msgBody","JSON","parse","e","get","unsubscribe","_initStompClient","connect","topics","forEach","_subscribe","onConnect","error","onConnectFailure","_log","stack","state","_cleanUp","onDisconnect","autoReconnect","explicitDisconnect","_timeoutId","setTimeout","_connect","getRetryInterval","clearTimeout","subid","_unsubscribe","disconnect","optHeaders","arguments","undefined","send","Error","Map","componentDidMount","componentWillUnmount","shouldComponentUpdate","nextProps","nextState","UNSAFE_componentWillReceiveProps","_this2","newTopic","oldTopic","render","Component","count","string","isRequired","object","array","func","bool","number","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _sockjsClient = _interopRequireDefault(require(\"sockjs-client\"));\n\nvar _stompjs = _interopRequireDefault(require(\"stompjs\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _difference = _interopRequireDefault(require(\"lodash/difference\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * React component for SockJS-client with STOMP messaging protocol.\n *\n * @version 5.0.0\n * @author [lahsivjar] (https://github.com/lahsivjar)\n * @see {@link https://stomp.github.io/|STOMP}\n * @see {@link https://github.com/sockjs/sockjs-client|StompJS}\n */\nvar SockJsClient =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SockJsClient, _React$Component);\n\n  function SockJsClient(props) {\n    var _this;\n\n    _classCallCheck(this, SockJsClient);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SockJsClient).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"_initStompClient\", function () {\n      // Websocket held by stompjs can be opened only once\n      _this.client = _stompjs[\"default\"].over(new _sockjsClient[\"default\"](_this.props.url, null, _this.props.options));\n      _this.client.heartbeat.outgoing = _this.props.heartbeat;\n      _this.client.heartbeat.incoming = _this.props.heartbeat;\n\n      if (Object.keys(_this.props).includes('heartbeatIncoming')) {\n        _this.client.heartbeat.incoming = _this.props.heartbeatIncoming;\n      }\n\n      if (Object.keys(_this.props).includes('heartbeatOutgoing')) {\n        _this.client.heartbeat.outgoing = _this.props.heartbeatOutgoing;\n      }\n\n      if (!_this.props.debug) {\n        _this.client.debug = function () {};\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_cleanUp\", function () {\n      _this.setState({\n        connected: false\n      });\n\n      _this.retryCount = 0;\n\n      _this.subscriptions.clear();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_log\", function (msg) {\n      if (_this.props.debug) {\n        console.log(msg);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_subscribe\", function (topic) {\n      if (!_this.subscriptions.has(topic)) {\n        var subscribeHeaders = Object.assign({}, _this.props.subscribeHeaders);\n\n        var sub = _this.client.subscribe(topic, function (msg) {\n          _this.props.onMessage(_this._processMessage(msg.body), msg.headers.destination);\n        }, subscribeHeaders);\n\n        _this.subscriptions.set(topic, sub);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_processMessage\", function (msgBody) {\n      try {\n        return JSON.parse(msgBody);\n      } catch (e) {\n        return msgBody;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_unsubscribe\", function (topic) {\n      var sub = _this.subscriptions.get(topic);\n\n      sub.unsubscribe();\n\n      _this.subscriptions[\"delete\"](topic);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_connect\", function () {\n      _this._initStompClient();\n\n      _this.client.connect(_this.props.headers, function () {\n        _this.setState({\n          connected: true\n        });\n\n        _this.props.topics.forEach(function (topic) {\n          _this._subscribe(topic);\n        });\n\n        _this.props.onConnect();\n      }, function (error) {\n        if (error) {\n          if (Object.keys(_this.props).includes('onConnectFailure')) {\n            _this.props.onConnectFailure(error);\n          } else {\n            _this._log(error.stack);\n          }\n        }\n\n        if (_this.state.connected) {\n          _this._cleanUp(); // onDisconnect should be called only once per connect\n\n\n          _this.props.onDisconnect();\n        }\n\n        if (_this.props.autoReconnect && !_this.state.explicitDisconnect) {\n          _this._timeoutId = setTimeout(_this._connect, _this.props.getRetryInterval(_this.retryCount++));\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"connect\", function () {\n      _this.setState({\n        explicitDisconnect: false\n      });\n\n      if (!_this.state.connected) {\n        _this._connect();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"disconnect\", function () {\n      // On calling disconnect explicitly no effort will be made to reconnect\n      // Clear timeoutId in case the component is trying to reconnect\n      if (_this._timeoutId) {\n        clearTimeout(_this._timeoutId);\n        _this._timeoutId = null;\n      }\n\n      _this.setState({\n        explicitDisconnect: true\n      });\n\n      if (_this.state.connected) {\n        _this.subscriptions.forEach(function (subid, topic) {\n          _this._unsubscribe(topic);\n        });\n\n        _this.client.disconnect(function () {\n          _this._cleanUp();\n\n          _this.props.onDisconnect();\n\n          _this._log('Stomp client is successfully disconnected!');\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"sendMessage\", function (topic, msg) {\n      var optHeaders = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (_this.state.connected) {\n        _this.client.send(topic, optHeaders, msg);\n      } else {\n        throw new Error('Send error: SockJsClient is disconnected');\n      }\n    });\n\n    _this.state = {\n      connected: false,\n      // False if disconnect method is called without a subsequent connect\n      explicitDisconnect: false\n    };\n    _this.subscriptions = new Map();\n    _this.retryCount = 0;\n    return _this;\n  }\n\n  _createClass(SockJsClient, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._connect();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.disconnect();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return false;\n    }\n    /* eslint camelcase: [\"error\", {allow: [\"UNSAFE_componentWillReceiveProps\"]}] */\n\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      if (this.state.connected) {\n        // Subscribe to new topics\n        (0, _difference[\"default\"])(nextProps.topics, this.props.topics).forEach(function (newTopic) {\n          _this2._log('Subscribing to topic: ' + newTopic);\n\n          _this2._subscribe(newTopic);\n        }); // Unsubscribe from old topics\n\n        (0, _difference[\"default\"])(this.props.topics, nextProps.topics).forEach(function (oldTopic) {\n          _this2._log('Unsubscribing from topic: ' + oldTopic);\n\n          _this2._unsubscribe(oldTopic);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return SockJsClient;\n}(_react[\"default\"].Component);\n\n_defineProperty(SockJsClient, \"defaultProps\", {\n  onConnect: function onConnect() {},\n  onDisconnect: function onDisconnect() {},\n  getRetryInterval: function getRetryInterval(count) {\n    return 1000 * count;\n  },\n  options: {},\n  headers: {},\n  subscribeHeaders: {},\n  autoReconnect: true,\n  debug: false,\n  heartbeat: 10000\n});\n\n_defineProperty(SockJsClient, \"propTypes\", {\n  /**\n   * HTTP URL of the endpoint to connect.\n   */\n  url: _propTypes[\"default\"].string.isRequired,\n\n  /**\n   * Additional options to pass to the underlying SockJS constructor.\n   *\n   * @see [SockJS-options](https://github.com/sockjs/sockjs-client#sockjs-client-api)\n   */\n  options: _propTypes[\"default\"].object,\n\n  /**\n   * Array of topics to subscribe to.\n   */\n  topics: _propTypes[\"default\"].array.isRequired,\n\n  /**\n   * Callback after connection is established.\n   */\n  onConnect: _propTypes[\"default\"].func,\n\n  /**\n   * Callback after connection is lost.\n   */\n  onDisconnect: _propTypes[\"default\"].func,\n\n  /**\n   * Gets called to find the time interval for next retry. Defaults to a function returing retryCount seconds.\n   *\n   * @param {number} retryCount number of retries for the current disconnect\n   */\n  getRetryInterval: _propTypes[\"default\"].func,\n\n  /**\n   * Callback when a message is recieved.\n   *\n   * @param {(string|Object)} msg message received from server, if JSON format then object\n   * @param {string} topic the topic on which the message was received\n   */\n  onMessage: _propTypes[\"default\"].func.isRequired,\n\n  /**\n   * Headers that will be passed to the server or broker with STOMP's connection frame.\n   */\n  headers: _propTypes[\"default\"].object,\n\n  /**\n   * Headers that will be passed when subscribing to a destination.\n   */\n  subscribeHeaders: _propTypes[\"default\"].object,\n\n  /**\n   * Should the client try to automatically connect in an event of disconnection.\n   */\n  autoReconnect: _propTypes[\"default\"].bool,\n\n  /**\n   * Enable debugging mode.\n   */\n  debug: _propTypes[\"default\"].bool,\n\n  /**\n   * Number of milliseconds to send and expect heartbeat messages.\n   */\n  heartbeat: _propTypes[\"default\"].number,\n\n  /**\n   * Number of milliseconds to expect heartbeat messages\n   */\n  heartbeatIncoming: _propTypes[\"default\"].number,\n\n  /**\n   * Number of milliseconds to send heartbeat messages\n   */\n  heartbeatOutgoing: _propTypes[\"default\"].number,\n\n  /**\n   * Callback if connection could not be established\n   */\n  onConnectFailure: _propTypes[\"default\"].func\n});\n\nvar _default = SockJsClient;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}