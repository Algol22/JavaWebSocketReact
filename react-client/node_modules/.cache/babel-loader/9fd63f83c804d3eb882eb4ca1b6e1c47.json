{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ariaHidden = ariaHidden;\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _getScrollbarSize = _interopRequireDefault(require(\"../utils/getScrollbarSize\"));\n\nvar _ownerDocument = _interopRequireDefault(require(\"../utils/ownerDocument\"));\n\nvar _ownerWindow = _interopRequireDefault(require(\"../utils/ownerWindow\")); // Is a vertical scrollbar displayed?\n\n\nfunction isOverflowing(container) {\n  var doc = (0, _ownerDocument.default)(container);\n\n  if (doc.body === container) {\n    return (0, _ownerWindow.default)(doc).innerWidth > doc.documentElement.clientWidth;\n  }\n\n  return container.scrollHeight > container.clientHeight;\n}\n\nfunction ariaHidden(node, show) {\n  if (show) {\n    node.setAttribute('aria-hidden', 'true');\n  } else {\n    node.removeAttribute('aria-hidden');\n  }\n}\n\nfunction getPaddingRight(node) {\n  return parseInt(window.getComputedStyle(node)['padding-right'], 10) || 0;\n}\n\nfunction ariaHiddenSiblings(container, mountNode, currentNode) {\n  var nodesToExclude = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  var show = arguments.length > 4 ? arguments[4] : undefined;\n  var blacklist = [mountNode, currentNode].concat((0, _toConsumableArray2.default)(nodesToExclude));\n  var blacklistTagNames = ['TEMPLATE', 'SCRIPT', 'STYLE'];\n  [].forEach.call(container.children, function (node) {\n    if (node.nodeType === 1 && blacklist.indexOf(node) === -1 && blacklistTagNames.indexOf(node.tagName) === -1) {\n      ariaHidden(node, show);\n    }\n  });\n}\n\nfunction findIndexOf(containerInfo, callback) {\n  var idx = -1;\n  containerInfo.some(function (item, index) {\n    if (callback(item)) {\n      idx = index;\n      return true;\n    }\n\n    return false;\n  });\n  return idx;\n}\n\nfunction handleContainer(containerInfo, props) {\n  var restoreStyle = [];\n  var restorePaddings = [];\n  var container = containerInfo.container;\n  var fixedNodes;\n\n  if (!props.disableScrollLock) {\n    if (isOverflowing(container)) {\n      // Compute the size before applying overflow hidden to avoid any scroll jumps.\n      var scrollbarSize = (0, _getScrollbarSize.default)();\n      restoreStyle.push({\n        value: container.style.paddingRight,\n        key: 'padding-right',\n        el: container\n      }); // Use computed style, here to get the real padding to add our scrollbar width.\n\n      container.style['padding-right'] = \"\".concat(getPaddingRight(container) + scrollbarSize, \"px\"); // .mui-fixed is a global helper.\n\n      fixedNodes = (0, _ownerDocument.default)(container).querySelectorAll('.mui-fixed');\n      [].forEach.call(fixedNodes, function (node) {\n        restorePaddings.push(node.style.paddingRight);\n        node.style.paddingRight = \"\".concat(getPaddingRight(node) + scrollbarSize, \"px\");\n      });\n    } // Improve Gatsby support\n    // https://css-tricks.com/snippets/css/force-vertical-scrollbar/\n\n\n    var parent = container.parentElement;\n    var scrollContainer = parent.nodeName === 'HTML' && window.getComputedStyle(parent)['overflow-y'] === 'scroll' ? parent : container; // Block the scroll even if no scrollbar is visible to account for mobile keyboard\n    // screensize shrink.\n\n    restoreStyle.push({\n      value: scrollContainer.style.overflow,\n      key: 'overflow',\n      el: scrollContainer\n    });\n    scrollContainer.style.overflow = 'hidden';\n  }\n\n  var restore = function restore() {\n    if (fixedNodes) {\n      [].forEach.call(fixedNodes, function (node, i) {\n        if (restorePaddings[i]) {\n          node.style.paddingRight = restorePaddings[i];\n        } else {\n          node.style.removeProperty('padding-right');\n        }\n      });\n    }\n\n    restoreStyle.forEach(function (_ref) {\n      var value = _ref.value,\n          el = _ref.el,\n          key = _ref.key;\n\n      if (value) {\n        el.style.setProperty(key, value);\n      } else {\n        el.style.removeProperty(key);\n      }\n    });\n  };\n\n  return restore;\n}\n\nfunction getHiddenSiblings(container) {\n  var hiddenSiblings = [];\n  [].forEach.call(container.children, function (node) {\n    if (node.getAttribute && node.getAttribute('aria-hidden') === 'true') {\n      hiddenSiblings.push(node);\n    }\n  });\n  return hiddenSiblings;\n}\n/**\n * @ignore - do not document.\n *\n * Proper state management for containers and the modals in those containers.\n * Simplified, but inspired by react-overlay's ModalManager class.\n * Used by the Modal to ensure proper styling of containers.\n */\n\n\nvar ModalManager = /*#__PURE__*/function () {\n  function ModalManager() {\n    (0, _classCallCheck2.default)(this, ModalManager); // this.modals[modalIndex] = modal\n\n    this.modals = []; // this.containers[containerIndex] = {\n    //   modals: [],\n    //   container,\n    //   restore: null,\n    // }\n\n    this.containers = [];\n  }\n\n  (0, _createClass2.default)(ModalManager, [{\n    key: \"add\",\n    value: function add(modal, container) {\n      var modalIndex = this.modals.indexOf(modal);\n\n      if (modalIndex !== -1) {\n        return modalIndex;\n      }\n\n      modalIndex = this.modals.length;\n      this.modals.push(modal); // If the modal we are adding is already in the DOM.\n\n      if (modal.modalRef) {\n        ariaHidden(modal.modalRef, false);\n      }\n\n      var hiddenSiblingNodes = getHiddenSiblings(container);\n      ariaHiddenSiblings(container, modal.mountNode, modal.modalRef, hiddenSiblingNodes, true);\n      var containerIndex = findIndexOf(this.containers, function (item) {\n        return item.container === container;\n      });\n\n      if (containerIndex !== -1) {\n        this.containers[containerIndex].modals.push(modal);\n        return modalIndex;\n      }\n\n      this.containers.push({\n        modals: [modal],\n        container: container,\n        restore: null,\n        hiddenSiblingNodes: hiddenSiblingNodes\n      });\n      return modalIndex;\n    }\n  }, {\n    key: \"mount\",\n    value: function mount(modal, props) {\n      var containerIndex = findIndexOf(this.containers, function (item) {\n        return item.modals.indexOf(modal) !== -1;\n      });\n      var containerInfo = this.containers[containerIndex];\n\n      if (!containerInfo.restore) {\n        containerInfo.restore = handleContainer(containerInfo, props);\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(modal) {\n      var modalIndex = this.modals.indexOf(modal);\n\n      if (modalIndex === -1) {\n        return modalIndex;\n      }\n\n      var containerIndex = findIndexOf(this.containers, function (item) {\n        return item.modals.indexOf(modal) !== -1;\n      });\n      var containerInfo = this.containers[containerIndex];\n      containerInfo.modals.splice(containerInfo.modals.indexOf(modal), 1);\n      this.modals.splice(modalIndex, 1); // If that was the last modal in a container, clean up the container.\n\n      if (containerInfo.modals.length === 0) {\n        // The modal might be closed before it had the chance to be mounted in the DOM.\n        if (containerInfo.restore) {\n          containerInfo.restore();\n        }\n\n        if (modal.modalRef) {\n          // In case the modal wasn't in the DOM yet.\n          ariaHidden(modal.modalRef, true);\n        }\n\n        ariaHiddenSiblings(containerInfo.container, modal.mountNode, modal.modalRef, containerInfo.hiddenSiblingNodes, false);\n        this.containers.splice(containerIndex, 1);\n      } else {\n        // Otherwise make sure the next top modal is visible to a screen reader.\n        var nextTop = containerInfo.modals[containerInfo.modals.length - 1]; // as soon as a modal is adding its modalRef is undefined. it can't set\n        // aria-hidden because the dom element doesn't exist either\n        // when modal was unmounted before modalRef gets null\n\n        if (nextTop.modalRef) {\n          ariaHidden(nextTop.modalRef, false);\n        }\n      }\n\n      return modalIndex;\n    }\n  }, {\n    key: \"isTopModal\",\n    value: function isTopModal(modal) {\n      return this.modals.length > 0 && this.modals[this.modals.length - 1] === modal;\n    }\n  }]);\n  return ModalManager;\n}();\n\nexports.default = ModalManager;","map":{"version":3,"sources":["C:/Users/usher/Desktop/chat/ChatApplication/react-client/node_modules/@material-ui/core/Modal/ModalManager.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","ariaHidden","default","_classCallCheck2","_createClass2","_toConsumableArray2","_getScrollbarSize","_ownerDocument","_ownerWindow","isOverflowing","container","doc","body","innerWidth","documentElement","clientWidth","scrollHeight","clientHeight","node","show","setAttribute","removeAttribute","getPaddingRight","parseInt","window","getComputedStyle","ariaHiddenSiblings","mountNode","currentNode","nodesToExclude","arguments","length","undefined","blacklist","concat","blacklistTagNames","forEach","call","children","nodeType","indexOf","tagName","findIndexOf","containerInfo","callback","idx","some","item","index","handleContainer","props","restoreStyle","restorePaddings","fixedNodes","disableScrollLock","scrollbarSize","push","style","paddingRight","key","el","querySelectorAll","parent","parentElement","scrollContainer","nodeName","overflow","restore","i","removeProperty","_ref","setProperty","getHiddenSiblings","hiddenSiblings","getAttribute","ModalManager","modals","containers","add","modal","modalIndex","modalRef","hiddenSiblingNodes","containerIndex","mount","remove","splice","nextTop","isTopModal"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ariaHidden = ariaHidden;\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _getScrollbarSize = _interopRequireDefault(require(\"../utils/getScrollbarSize\"));\n\nvar _ownerDocument = _interopRequireDefault(require(\"../utils/ownerDocument\"));\n\nvar _ownerWindow = _interopRequireDefault(require(\"../utils/ownerWindow\"));\n\n// Is a vertical scrollbar displayed?\nfunction isOverflowing(container) {\n  var doc = (0, _ownerDocument.default)(container);\n\n  if (doc.body === container) {\n    return (0, _ownerWindow.default)(doc).innerWidth > doc.documentElement.clientWidth;\n  }\n\n  return container.scrollHeight > container.clientHeight;\n}\n\nfunction ariaHidden(node, show) {\n  if (show) {\n    node.setAttribute('aria-hidden', 'true');\n  } else {\n    node.removeAttribute('aria-hidden');\n  }\n}\n\nfunction getPaddingRight(node) {\n  return parseInt(window.getComputedStyle(node)['padding-right'], 10) || 0;\n}\n\nfunction ariaHiddenSiblings(container, mountNode, currentNode) {\n  var nodesToExclude = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  var show = arguments.length > 4 ? arguments[4] : undefined;\n  var blacklist = [mountNode, currentNode].concat((0, _toConsumableArray2.default)(nodesToExclude));\n  var blacklistTagNames = ['TEMPLATE', 'SCRIPT', 'STYLE'];\n  [].forEach.call(container.children, function (node) {\n    if (node.nodeType === 1 && blacklist.indexOf(node) === -1 && blacklistTagNames.indexOf(node.tagName) === -1) {\n      ariaHidden(node, show);\n    }\n  });\n}\n\nfunction findIndexOf(containerInfo, callback) {\n  var idx = -1;\n  containerInfo.some(function (item, index) {\n    if (callback(item)) {\n      idx = index;\n      return true;\n    }\n\n    return false;\n  });\n  return idx;\n}\n\nfunction handleContainer(containerInfo, props) {\n  var restoreStyle = [];\n  var restorePaddings = [];\n  var container = containerInfo.container;\n  var fixedNodes;\n\n  if (!props.disableScrollLock) {\n    if (isOverflowing(container)) {\n      // Compute the size before applying overflow hidden to avoid any scroll jumps.\n      var scrollbarSize = (0, _getScrollbarSize.default)();\n      restoreStyle.push({\n        value: container.style.paddingRight,\n        key: 'padding-right',\n        el: container\n      }); // Use computed style, here to get the real padding to add our scrollbar width.\n\n      container.style['padding-right'] = \"\".concat(getPaddingRight(container) + scrollbarSize, \"px\"); // .mui-fixed is a global helper.\n\n      fixedNodes = (0, _ownerDocument.default)(container).querySelectorAll('.mui-fixed');\n      [].forEach.call(fixedNodes, function (node) {\n        restorePaddings.push(node.style.paddingRight);\n        node.style.paddingRight = \"\".concat(getPaddingRight(node) + scrollbarSize, \"px\");\n      });\n    } // Improve Gatsby support\n    // https://css-tricks.com/snippets/css/force-vertical-scrollbar/\n\n\n    var parent = container.parentElement;\n    var scrollContainer = parent.nodeName === 'HTML' && window.getComputedStyle(parent)['overflow-y'] === 'scroll' ? parent : container; // Block the scroll even if no scrollbar is visible to account for mobile keyboard\n    // screensize shrink.\n\n    restoreStyle.push({\n      value: scrollContainer.style.overflow,\n      key: 'overflow',\n      el: scrollContainer\n    });\n    scrollContainer.style.overflow = 'hidden';\n  }\n\n  var restore = function restore() {\n    if (fixedNodes) {\n      [].forEach.call(fixedNodes, function (node, i) {\n        if (restorePaddings[i]) {\n          node.style.paddingRight = restorePaddings[i];\n        } else {\n          node.style.removeProperty('padding-right');\n        }\n      });\n    }\n\n    restoreStyle.forEach(function (_ref) {\n      var value = _ref.value,\n          el = _ref.el,\n          key = _ref.key;\n\n      if (value) {\n        el.style.setProperty(key, value);\n      } else {\n        el.style.removeProperty(key);\n      }\n    });\n  };\n\n  return restore;\n}\n\nfunction getHiddenSiblings(container) {\n  var hiddenSiblings = [];\n  [].forEach.call(container.children, function (node) {\n    if (node.getAttribute && node.getAttribute('aria-hidden') === 'true') {\n      hiddenSiblings.push(node);\n    }\n  });\n  return hiddenSiblings;\n}\n/**\n * @ignore - do not document.\n *\n * Proper state management for containers and the modals in those containers.\n * Simplified, but inspired by react-overlay's ModalManager class.\n * Used by the Modal to ensure proper styling of containers.\n */\n\n\nvar ModalManager = /*#__PURE__*/function () {\n  function ModalManager() {\n    (0, _classCallCheck2.default)(this, ModalManager);\n    // this.modals[modalIndex] = modal\n    this.modals = []; // this.containers[containerIndex] = {\n    //   modals: [],\n    //   container,\n    //   restore: null,\n    // }\n\n    this.containers = [];\n  }\n\n  (0, _createClass2.default)(ModalManager, [{\n    key: \"add\",\n    value: function add(modal, container) {\n      var modalIndex = this.modals.indexOf(modal);\n\n      if (modalIndex !== -1) {\n        return modalIndex;\n      }\n\n      modalIndex = this.modals.length;\n      this.modals.push(modal); // If the modal we are adding is already in the DOM.\n\n      if (modal.modalRef) {\n        ariaHidden(modal.modalRef, false);\n      }\n\n      var hiddenSiblingNodes = getHiddenSiblings(container);\n      ariaHiddenSiblings(container, modal.mountNode, modal.modalRef, hiddenSiblingNodes, true);\n      var containerIndex = findIndexOf(this.containers, function (item) {\n        return item.container === container;\n      });\n\n      if (containerIndex !== -1) {\n        this.containers[containerIndex].modals.push(modal);\n        return modalIndex;\n      }\n\n      this.containers.push({\n        modals: [modal],\n        container: container,\n        restore: null,\n        hiddenSiblingNodes: hiddenSiblingNodes\n      });\n      return modalIndex;\n    }\n  }, {\n    key: \"mount\",\n    value: function mount(modal, props) {\n      var containerIndex = findIndexOf(this.containers, function (item) {\n        return item.modals.indexOf(modal) !== -1;\n      });\n      var containerInfo = this.containers[containerIndex];\n\n      if (!containerInfo.restore) {\n        containerInfo.restore = handleContainer(containerInfo, props);\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(modal) {\n      var modalIndex = this.modals.indexOf(modal);\n\n      if (modalIndex === -1) {\n        return modalIndex;\n      }\n\n      var containerIndex = findIndexOf(this.containers, function (item) {\n        return item.modals.indexOf(modal) !== -1;\n      });\n      var containerInfo = this.containers[containerIndex];\n      containerInfo.modals.splice(containerInfo.modals.indexOf(modal), 1);\n      this.modals.splice(modalIndex, 1); // If that was the last modal in a container, clean up the container.\n\n      if (containerInfo.modals.length === 0) {\n        // The modal might be closed before it had the chance to be mounted in the DOM.\n        if (containerInfo.restore) {\n          containerInfo.restore();\n        }\n\n        if (modal.modalRef) {\n          // In case the modal wasn't in the DOM yet.\n          ariaHidden(modal.modalRef, true);\n        }\n\n        ariaHiddenSiblings(containerInfo.container, modal.mountNode, modal.modalRef, containerInfo.hiddenSiblingNodes, false);\n        this.containers.splice(containerIndex, 1);\n      } else {\n        // Otherwise make sure the next top modal is visible to a screen reader.\n        var nextTop = containerInfo.modals[containerInfo.modals.length - 1]; // as soon as a modal is adding its modalRef is undefined. it can't set\n        // aria-hidden because the dom element doesn't exist either\n        // when modal was unmounted before modalRef gets null\n\n        if (nextTop.modalRef) {\n          ariaHidden(nextTop.modalRef, false);\n        }\n      }\n\n      return modalIndex;\n    }\n  }, {\n    key: \"isTopModal\",\n    value: function isTopModal(modal) {\n      return this.modals.length > 0 && this.modals[this.modals.length - 1] === modal;\n    }\n  }]);\n  return ModalManager;\n}();\n\nexports.default = ModalManager;"]},"metadata":{},"sourceType":"script"}